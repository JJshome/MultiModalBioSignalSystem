# 다중 모달 생체 자극 진단 및 치료 시스템

## 개요
이 프로젝트는 복수의 무선 기기를 이용한 다중 모달 생체 자극 진단 및 치료 시스템의 구현입니다. 본 시스템은 두 개의 블루투스 무선 기기를 통해 ECG와 심박수 및 심박 변이도(HRV)를 실시간으로 모니터링하고, 이 데이터를 분석하여 TENS 전기 자극 치료와 실시간으로 연동합니다.

## 주요 기능
- ECG 실시간 모니터링 (블루투스 기기 1)
- 심박수 및 심박 변이도(HRV) 실시간 모니터링 (블루투스 기기 2)
- 가상 신호 시뮬레이션 및 데이터 세트 생성
- AI 기반 생체 신호 분석
- TENS 전기 자극 치료 실시간 연동
- 폐루프(Closed-loop) 시스템 구현

## 시스템 구성요소
1. **중앙 제어 시스템**
   - AI 기반 데이터 분석 및 자극 제어
   - 블루투스 통신 관리
   - 폐루프 피드백 시스템

2. **무선 기기 1: ECG 모니터링**
   - ECG 센서 및 신호 처리
   - 블루투스 통신 모듈
   - 배터리 관리

3. **무선 기기 2: 심박/HRV 모니터링**
   - PPG 센서 및 신호 처리
   - 심박수 및 HRV 계산
   - 블루투스 통신 모듈
   - 배터리 관리

4. **TENS 자극 모듈**
   - 전기 자극 발생 및 제어
   - 다양한 자극 패턴 지원
   - 안전 보호 메커니즘

## 시뮬레이션 및 테스트
- ECG 및 HRV 가상 신호 생성
- AI 모델 학습 및 검증
- 시스템 통합 테스트

## 폴더 구조
- `/central_system`: 중앙 제어 시스템 구현
- `/device_ecg`: ECG 모니터링 기기 관련 코드
- `/device_hrv`: 심박/HRV 모니터링 기기 관련 코드
- `/tens_module`: TENS 자극 모듈 구현
- `/data_simulation`: 가상 신호 시뮬레이션 코드
- `/ai_models`: AI 분석 및 제어 모델
- `/visualization`: 데이터 시각화 도구
- `/docs`: 문서 및 사용자 매뉴얼

## 설치 및 실행 방법

### 필요 조건
- Python 3.8+
- TensorFlow 2.6+
- PyTorch 1.10+
- NumPy, SciPy, Pandas
- Matplotlib, Seaborn
- PyBluez 또는 Bleak (블루투스 통신)

### 설치
```bash
pip install -r requirements.txt
```

### 실행
```bash
python run_simulation.py  # 시뮬레이션 모드
# 또는
python run_system.py      # 실제 기기 연결 모드
```

## 라이센스
MIT License

## 관련 연구 및 참고자료
- 복수의 무선 기기를 이용한 다중 모달 생체 자극 진단 및 치료 시스템
- AI 기반 생체 신호 분석 및 제어 방법론
- TENS 전기 자극 치료 프로토콜